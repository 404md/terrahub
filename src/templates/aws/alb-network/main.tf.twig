resource "random_string" "hash" {
  length  = 16
  special = false
}

resource "aws_lb" "{{ name }}" {
  name               = "${var.lb_name}"
  name_prefix        = "${random_string.hash.result}"
  internal           = "${var.lb_internal}"
  load_balancer_type = "${var.lb_load_balancer_type}"
  subnets            = ["${var.lb_subnets}"]

  enable_deletion_protection       = "${var.lb_enable_deletion_protection}"
  enable_cross_zone_load_balancing = "${var.lb_enable_cross_zone_load_balancing}"

  tags = "${merge(var.default_tags, var.custom_tags)}"
}