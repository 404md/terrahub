  template:
    # terraform:
    #   backend:
    #     s3:
    #     key: 'path/to/terraform.tfstate'
    resource:
      aws_mq_broker:
        {{ name }}:
          engine_type: '${var.{{ name }}_engine_type}'
          broker_name: '${var.{{ name }}_broker_name}'
          engine_version: '${var.{{ name }}_engine_version}'
          host_instance_type: '${var.{{ name }}_host_instance_type}'
          security_groups: '${var.{{ name }}_security_groups}'
          user: 
            password: ''
            username: ''
          #   console_access: false
          #   groups: 
          # logs: 
          #   -
          #     general: false
          #     audit: false
          # maintenance_window_start_time: 
          #   -
          #     day_of_week: ''
          #     time_of_day: ''
          #     time_zone: ''
          # subnet_ids: []
          # configuration: 
          #   -
          #     id: ''
          #     revision: 0
          # tags: 
          #   '[TO_BE_REPLACED]': ''
          # apply_immediately: false
          # deployment_mode: ''
          # publicly_accessible: false
          # auto_minor_version_upgrade: false
    variable:
      {{ name }}_engine_type:
        type: 'string'
      {{ name }}_broker_name:
        type: 'string'
      {{ name }}_engine_version:
        type: 'string'
      {{ name }}_host_instance_type:
        type: 'string'
      {{ name }}_security_groups:
        type: 'set'
    output:
      id:
        value: '${aws_mq_broker.{{ name }}.id}'
      thub_id:
        value: '${aws_mq_broker.{{ name }}.id}'
      instances:
        value: '${aws_mq_broker.{{ name }}.instances}'
      maintenance_window_start_time:
        value: '${aws_mq_broker.{{ name }}.maintenance_window_start_time}'
      subnet_ids:
        value: '${aws_mq_broker.{{ name }}.subnet_ids}'
      configuration:
        value: '${aws_mq_broker.{{ name }}.configuration}'
      arn:
        value: '${aws_mq_broker.{{ name }}.arn}'
