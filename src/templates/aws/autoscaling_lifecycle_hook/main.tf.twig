resource "aws_autoscaling_lifecycle_hook" "{{ name }}" {
  name                   = "${var.autoscaling_lifecycle_hook_name}"
  autoscaling_group_name = "${var.autoscaling_lifecycle_hook_asg_name}"
  default_result         = "${var.autoscaling_lifecycle_hook_default_result}"
  heartbeat_timeout      = "${var.autoscaling_lifecycle_hook_heartbeat_timeout}"
  lifecycle_transition   = "${var.autoscaling_lifecycle_hook_lifecycle_transition}"

  notification_metadata = "${data.template_file.notification_metadata.rendered}"

  notification_target_arn = "arn:aws:sqs:${var.region}:${var.account_id}:${var.autoscaling_lifecycle_hook_notification_target_name}"
  role_arn                = "arn:aws:iam::${var.account_id}:role/${var.autoscaling_lifecycle_hook_role_name}"
}