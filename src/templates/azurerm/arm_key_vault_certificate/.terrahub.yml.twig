  template:
    # terraform:
    #   backend:
    #     storage_account_name: 'abcd1234'
    #     container_name: 'tfstate'
    #     key: 'prod.terraform.tfstate'
    resource:
      azurerm_arm_key_vault_certificate:
        {{ name }}:
          secret_properties:
            -
              content_type: ''
          name: '${var.{{ name }}_name}'
          vault_uri: '${var.{{ name }}_vault_uri}'
          certificate_policy:
            -
              issuer_parameters: 
                -
                  name: ''
          # x509_certificate_properties: 
          #   -
          #     key_usage: []
          #     subject: ''
          #     extended_key_usage: 
          #       -
          #     subject_alternative_names: 
          #       -
          #         emails: 
          #           -
          #         dns_names: 
          #           -
          #         upns: 
          #           -
          # certificate: 
          #   -
          #     contents: ''
          #     password: ''
          # lifetime_action: 
          #   -
          #     action: 
          #       -
          #         action_type: ''
          # tags: 
          #   '[TO_BE_REPLACED]': ''
    variable:
      {{ name }}_name:
        type: 'string'
      {{ name }}_vault_uri:
        type: 'string'
    output:
      id:
        value: '${azurerm_arm_key_vault_certificate.{{ name }}.id}'
      thub_id:
        value: '${azurerm_arm_key_vault_certificate.{{ name }}.id}'
      x509_certificate_properties:
        value: '${azurerm_arm_key_vault_certificate.{{ name }}.x509_certificate_properties}'
      version:
        value: '${azurerm_arm_key_vault_certificate.{{ name }}.version}'
      certificate_data:
        value: '${azurerm_arm_key_vault_certificate.{{ name }}.certificate_data}'
      secret_id:
        value: '${azurerm_arm_key_vault_certificate.{{ name }}.secret_id}'
      thumbprint:
        value: '${azurerm_arm_key_vault_certificate.{{ name }}.thumbprint}'
