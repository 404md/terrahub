  template:
    # terraform:
    #   backend:
    #     storage_account_name: 'abcd1234'
    #     container_name: 'tfstate'
    #     key: 'prod.terraform.tfstate'
    resource:
      azurerm_arm_batch_pool:
        {{ name }}:
          name: '${var.{{ name }}_name}'
          account_name: '${var.{{ name }}_account_name}'
          storage_image_reference:
            -
              offer: ''
              sku: ''
              version: ''
              publisher: ''
          #     id: ''
          vm_size: '${var.{{ name }}_vm_size}'
          node_agent_sku_id: '${var.{{ name }}_node_agent_sku_id}'
          # max_tasks_per_node: 0
          # fixed_scale: 
          #   -
          #     target_dedicated_nodes: 0
          #     target_low_priority_nodes: 0
          #     resize_timeout: ''
          # auto_scale: 
          #   -
          #     formula: ''
          #     evaluation_interval: ''
          # stop_pending_resize_operation: false
          # display_name: ''
          # start_task: 
          #   -
          #     user_identity: 
          #       -
          #         user_name: ''
          #         auto_user: 
          #           -
          #             elevation_level: ''
          #             scope: ''
          #     command_line: ''
          #     max_task_retry_count: 0
          #     wait_for_success: false
          #     environment: 
          #       '[TO_BE_REPLACED]': ''
    variable:
      {{ name }}_name:
        type: 'string'
      {{ name }}_account_name:
        type: 'string'
      {{ name }}_vm_size:
        type: 'string'
      {{ name }}_node_agent_sku_id:
        type: 'string'
    output:
      id:
        value: '${azurerm_arm_batch_pool.{{ name }}.id}'
      thub_id:
        value: '${azurerm_arm_batch_pool.{{ name }}.id}'
