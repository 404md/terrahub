  template:
    # terraform:
    #   backend:
    #     storage_account_name: 'abcd1234'
    #     container_name: 'tfstate'
    #     key: 'prod.terraform.tfstate'
    resource:
      azurerm_arm_virtual_network_gateway:
        {{ name }}:
          sku: '${var.{{ name }}_sku}'
          ip_configuration:
            -
              subnet_id: ''
          #     name: ''
          #     private_ip_address_allocation: ''
          #     public_ip_address_id: ''
          name: '${var.{{ name }}_name}'
          type: '${var.{{ name }}_type}'
          # enable_bgp: false
          # active_active: false
          # vpn_client_configuration:
          #   -
          #     address_space: []
          #     root_certificate:
          #     name: ''
          #     public_cert_data: ''
          # radius_server_secret: ''
          # vpn_client_protocols: []
          # bgp_settings:
          #   -
          #     asn: 0
          #     peering_address: ''
          #     peer_weight: 0
          # vpn_type: ''
          # radius_server_address: ''
          # default_local_network_gateway_id: ''
          # tags:
          #   '[TO_BE_REPLACED]': ''
    variable:
      {{ name }}_sku:
        type: 'string'
      {{ name }}_name:
        type: 'string'
      {{ name }}_type:
        type: 'string'
    output:
      id:
        value: '${azurerm_arm_virtual_network_gateway.{{ name }}.id}'
      thub_id:
        value: '${azurerm_arm_virtual_network_gateway.{{ name }}.id}'
      enable_bgp:
        value: '${azurerm_arm_virtual_network_gateway.{{ name }}.enable_bgp}'
      active_active:
        value: '${azurerm_arm_virtual_network_gateway.{{ name }}.active_active}'
      bgp_settings:
        value: '${azurerm_arm_virtual_network_gateway.{{ name }}.bgp_settings}'
