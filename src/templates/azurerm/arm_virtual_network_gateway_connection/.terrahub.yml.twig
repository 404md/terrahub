  template:
    # terraform:
    #   backend:
    #     storage_account_name: 'abcd1234'
    #     container_name: 'tfstate'
    #     key: 'prod.terraform.tfstate'
    resource:
      azurerm_arm_virtual_network_gateway_connection:
        {{ name }}:
          type: '${var.{{ name }}_type}'
          virtual_network_gateway_id: '${var.{{ name }}_virtual_network_gateway_id}'
          name: '${var.{{ name }}_name}'
          # peer_virtual_network_gateway_id: ''
          # authorization_key: ''
          # local_network_gateway_id: ''
          # enable_bgp: false
          # routing_weight: 0
          # tags:
          #   '[TO_BE_REPLACED]': ''
          # use_policy_based_traffic_selectors: false
          # shared_key: ''
          # express_route_circuit_id: ''
          # ipsec_policy:
          #   -
          #     ipsec_encryption: ''
          #     ipsec_integrity: ''
          #     pfs_group: ''
          #     dh_group: ''
          #     ike_encryption: ''
          #     ike_integrity: ''
          #     sa_datasize: 0
          #     sa_lifetime: 0
    variable:
      {{ name }}_type:
        type: 'string'
      {{ name }}_virtual_network_gateway_id:
        type: 'string'
      {{ name }}_name:
        type: 'string'
    output:
      id:
        value: '${azurerm_arm_virtual_network_gateway_connection.{{ name }}.id}'
      thub_id:
        value: '${azurerm_arm_virtual_network_gateway_connection.{{ name }}.id}'
      enable_bgp:
        value: '${azurerm_arm_virtual_network_gateway_connection.{{ name }}.enable_bgp}'
      routing_weight:
        value: '${azurerm_arm_virtual_network_gateway_connection.{{ name }}.routing_weight}'
      use_policy_based_traffic_selectors:
        value: '${azurerm_arm_virtual_network_gateway_connection.{{ name }}.use_policy_based_traffic_selectors}'
